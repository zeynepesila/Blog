{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport Login from '../views/Login.vue';\nimport Signup from '../views/Signup.vue';\nimport Admin from '../views/Admin.vue';\nimport Editor from '../views/Editor.vue';\nimport UserHome from '../views/UserHome.vue';\nconst routes = [{\n  path: '/',\n  name: 'Login',\n  component: Login\n}, {\n  path: '/signup',\n  name: 'Signup',\n  component: Signup\n}, {\n  path: '/user',\n  name: 'UserHome',\n  component: UserHome,\n  meta: {\n    requiresAuth: true,\n    role: 'user'\n  }\n}, {\n  path: '/editor',\n  name: 'Editor',\n  component: Editor,\n  meta: {\n    requiresAuth: true,\n    role: 'editor'\n  }\n}, {\n  path: '/admin',\n  name: 'Admin',\n  component: Admin,\n  meta: {\n    requiresAuth: true,\n    role: 'admin'\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  const token = localStorage.getItem('token'); // JWT varsa\n  const role = localStorage.getItem('role'); // Örn: 'user', 'admin', 'editor'\n\n  if (to.meta.requiresAuth) {\n    if (!token) {\n      return next('/'); // Giriş yapılmamışsa login sayfasına\n    }\n    if (to.meta.role && to.meta.role !== role) {\n      alert('Bu sayfaya erişim izniniz yok.');\n      return next('/');\n    }\n  }\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","Login","Signup","Admin","Editor","UserHome","routes","path","name","component","meta","requiresAuth","role","router","history","beforeEach","to","from","next","token","localStorage","getItem","alert"],"sources":["C:/Users/Zeynep Esila/OneDrive/Desktop/Blog/blog-frontend/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\r\n\r\nimport Login from '../views/Login.vue'\r\nimport Signup from '../views/Signup.vue'\r\nimport Admin from '../views/Admin.vue'\r\nimport Editor from '../views/Editor.vue'\r\nimport UserHome from '../views/UserHome.vue'\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'Login',\r\n    component: Login\r\n  },\r\n  {\r\n    path: '/signup',\r\n    name: 'Signup',\r\n    component: Signup\r\n  },\r\n  {\r\n    path: '/user',\r\n    name: 'UserHome',\r\n    component: UserHome,\r\n    meta: { requiresAuth: true, role: 'user' }\r\n  },\r\n  {\r\n    path: '/editor',\r\n    name: 'Editor',\r\n    component: Editor,\r\n    meta: { requiresAuth: true, role: 'editor' }\r\n  },\r\n  {\r\n    path: '/admin',\r\n    name: 'Admin',\r\n    component: Admin,\r\n    meta: { requiresAuth: true, role: 'admin' }\r\n  }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes\r\n})\r\n\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const token = localStorage.getItem('token')  // JWT varsa\r\n  const role = localStorage.getItem('role')    // Örn: 'user', 'admin', 'editor'\r\n\r\n  if (to.meta.requiresAuth) {\r\n    if (!token) {\r\n      return next('/') // Giriş yapılmamışsa login sayfasına\r\n    }\r\n\r\n    if (to.meta.role && to.meta.role !== role) {\r\n      alert('Bu sayfaya erişim izniniz yok.')\r\n      return next('/')\r\n    }\r\n  }\r\n\r\n  next()\r\n})\r\n\r\nexport default router\r\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAE3D,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,QAAQ,MAAM,uBAAuB;AAE5C,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAER;AACb,CAAC,EACD;EACEM,IAAI,EAAE,SAAS;EACfC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAEP;AACb,CAAC,EACD;EACEK,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEJ,QAAQ;EACnBK,IAAI,EAAE;IAAEC,YAAY,EAAE,IAAI;IAAEC,IAAI,EAAE;EAAO;AAC3C,CAAC,EACD;EACEL,IAAI,EAAE,SAAS;EACfC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAEL,MAAM;EACjBM,IAAI,EAAE;IAAEC,YAAY,EAAE,IAAI;IAAEC,IAAI,EAAE;EAAS;AAC7C,CAAC,EACD;EACEL,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEN,KAAK;EAChBO,IAAI,EAAE;IAAEC,YAAY,EAAE,IAAI;IAAEC,IAAI,EAAE;EAAQ;AAC5C,CAAC,CACF;AAED,MAAMC,MAAM,GAAGd,YAAY,CAAC;EAC1Be,OAAO,EAAEd,gBAAgB,CAAC,CAAC;EAC3BM;AACF,CAAC,CAAC;AAGFO,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;EAC7C,MAAMT,IAAI,GAAGQ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAI;;EAE7C,IAAIL,EAAE,CAACN,IAAI,CAACC,YAAY,EAAE;IACxB,IAAI,CAACQ,KAAK,EAAE;MACV,OAAOD,IAAI,CAAC,GAAG,CAAC,EAAC;IACnB;IAEA,IAAIF,EAAE,CAACN,IAAI,CAACE,IAAI,IAAII,EAAE,CAACN,IAAI,CAACE,IAAI,KAAKA,IAAI,EAAE;MACzCU,KAAK,CAAC,gCAAgC,CAAC;MACvC,OAAOJ,IAAI,CAAC,GAAG,CAAC;IAClB;EACF;EAEAA,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AAEF,eAAeL,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}