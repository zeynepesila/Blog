{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport Login from '../views/Login.vue';\nimport Signup from '../views/Signup.vue';\nimport Admin from '../views/Admin.vue';\nimport Editor from '../views/Editor.vue';\nimport UserHome from '../views/UserHome.vue';\nconst routes = [{\n  path: '/',\n  name: 'Login',\n  component: Login\n}, {\n  path: '/signup',\n  name: 'Signup',\n  component: Signup\n}, {\n  path: '/user',\n  name: 'UserHome',\n  component: UserHome,\n  meta: {\n    requiresAuth: true,\n    role: 'user'\n  }\n}, {\n  path: '/editor',\n  name: 'Editor',\n  component: Editor,\n  meta: {\n    requiresAuth: true,\n    role: 'editor'\n  }\n}, {\n  path: '/admin',\n  name: 'Admin',\n  component: Admin,\n  meta: {\n    requiresAuth: true,\n    role: 'admin'\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  const token = localStorage.getItem('token'); // JWT varsa\n  const role = localStorage.getItem('role'); // Örn: 'user', 'admin', 'editor'\n\n  if (to.meta.requiresAuth) {\n    if (!token) {\n      return next('/'); // Giriş yapılmamışsa login sayfasına\n    }\n    if (to.meta.role && to.meta.role !== role) {\n      alert('Bu sayfaya erişim izniniz yok.');\n      return next('/');\n    }\n  }\n  next();\n});\nexport default router;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}