{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'UserHome',\n  data() {\n    return {\n      posts: [],\n      newComments: {}\n    };\n  },\n  mounted() {\n    this.fetchPosts();\n  },\n  methods: {\n    async fetchPosts() {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.get('/api/posts', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        this.posts = response.data;\n      } catch (error) {\n        console.error('Postlar alınamadı', error);\n      }\n    },\n    async submitComment(postId) {\n      const content = this.newComments[postId];\n      if (!content) return;\n      try {\n        const token = localStorage.getItem('token');\n        await axios.post(`/api/posts/${postId}/comments`, {\n          content\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        this.newComments[postId] = '';\n        this.fetchPosts(); // Yorumları güncelle\n      } catch (error) {\n        console.error('Yorum gönderilemedi', error);\n      }\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}